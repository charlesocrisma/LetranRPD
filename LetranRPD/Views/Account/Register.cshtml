@{
	Layout = "~/Views/Shared/_AuthLayout.cshtml";
}
@model LetranRPD.Models.Account
<link rel="stylesheet" href="~/css/Register.css" asp-append-version="true" />
<div class="register-container">
	<h2>REGISTRATION</h2>
	<form asp-action="RegisterButton" method="post">
		<input type="email" required placeholder="Student Email (letran.edu.ph)" asp-for="Email">
		<input type="text" id="studentNo" placeholder="Student Number" maxlength="7" pattern="[0-9]{7}" asp-for="StudentNumber">
		<input required asp-for="FirstName" placeholder="First Name">
		<input required asp-for="LastName" placeholder="Last Name">
		<select required asp-for="Level">
			<option disabled selected>Select your Department</option>
			<option>Senior High School Department</option>
			<option>College of Business Administration and Accountancy</option>
			<option>College of Engineering and Information Technology</option>
			<option>College of Education</option>
			<option>College of Liberal Arts and Sciences</option>
		</select>
		<input type="password" id="password" required asp-for="password" placeholder="Password (atleast 8 characters)" minlength="8">
		<input type="password" id="confirm_password" required placeholder="Confirm Password" minlength="8">
		<div id="message" style="margin-top: 5px; font-size: 14px;"></div>
		<button type="submit" id="submitBtn">Submit</button>
	</form>
	<div class="extra">
		<a href="Login" class="Login" style="color:grey;font-style:italic;">Return to Login</a>
	</div>
</div>
<script>
	const password = document.getElementById('password');
	const confirmPassword = document.getElementById('confirm_password');
	const message = document.getElementById('message');
	const submitBtn = document.getElementById('submitBtn');

	function checkPasswordMatch() {
		if (password.value === confirmPassword.value && password.value !== '') {
			message.textContent = "Passwords match!";
			message.style.color = "green";
			submitBtn.disabled = false;
		} else if (confirmPassword.value !== '') {
			message.textContent = "Passwords do not match.";
			message.style.color = "red";
			submitBtn.disabled = true;
		} else {
			message.textContent = "";
			submitBtn.disabled = false;
		}
	}

	confirmPassword.addEventListener('input', checkPasswordMatch);
	password.addEventListener('input', checkPasswordMatch);

	document.querySelector('form').addEventListener('submit', function(e) {
		if (password.value !== confirmPassword.value) {
			e.preventDefault();
			message.textContent = "Passwords do not match. Please check your passwords.";
			message.style.color = "red";
		}
	});
</script>